(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n(13),c=n.n(a),r=n(153),o=n(8),s=n(155),l=n(157),d=n(67),u=n(113),j=n(76),m=n.n(j),b=n(78),O=n.n(b),h=n(77),f=n.n(h),p=n(29),g=n(65);function x(e){for(var t=new Set;t.size<e/2;)t.add(Math.floor(1001*Math.random()));var n=Array.from(t).concat(Array.from(t));return function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=[e[n],e[t]];e[t]=i[0],e[n]=i[1]}}(n),n.map((function(e){return{id:Math.random(),idImg:e,src:"https://loremflickr.com/300/300/animal?lock=".concat(e),isOpen:!1}}))}var S=Object(p.b)({name:"sound",initialState:{isStart:!1,isFlipOpen:!1,isFlipClose:!1,isLike:!1,isWin:!1,isMusic:!0},reducers:{playStart:function(e,t){e.isStart=t.payload},playFlipOpen:function(e,t){e.isFlipOpen=t.payload},playFlipClose:function(e,t){e.isFlipClose=t.payload},playLike:function(e,t){e.isLike=t.payload},playWin:function(e,t){e.isWin=t.payload},playMusic:function(e,t){e.isMusic=t.payload}}}),v=S.actions,I=v.playStart,w=v.playFlipOpen,y=v.playFlipClose,C=v.playLike,A=v.playWin,T=(v.playMusic,function(e){return{isStart:e.sound.isStart,isFlipOpen:e.sound.isFlipOpen,isFlipClose:e.sound.isFlipClose,isLike:e.sound.isLike,isWin:e.sound.isWin}}),G=function(e){return e.sound.isMusic},k=S.reducer,B="settings",F="game_data",N=function(e){var t=JSON.stringify(e);window.localStorage.setItem(F,t)},W=Object(p.b)({name:"game",initialState:function(){var e=window.localStorage.getItem(F);return JSON.parse(e)}()||{cards:[],isStartGame:!1,isShowWin:!1,timerOpenAllId:null,flipCount:0,timeGame:0,timerGameId:null,selectedCardId:null,timerStartAutoId:null,timerAutoGameId:null},reducers:{resetState:function(e){e.isStartGame=!1,e.flipCount=0,e.timeGame=0,e.selectedCardId=null},resetCards:function(e,t){e.cards=x(t.payload),e.isStartGame=!1},openCard:function(e,t){e.cards[t.payload.id].isOpen=!0},closeCard:function(e,t){e.cards[t.payload].isOpen=!1},openAll:function(e){var t,n=Object(g.a)(e.cards);try{for(n.s();!(t=n.n()).done;){t.value.isOpen=!0}}catch(i){n.e(i)}finally{n.f()}},closeAll:function(e){var t,n=Object(g.a)(e.cards);try{for(n.s();!(t=n.n()).done;){t.value.isOpen=!1}}catch(i){n.e(i)}finally{n.f()}},setTimerOpenAllId:function(e,t){e.timerOpenAllId=t.payload},clearTimerIdAll:function(e){e.timerOpenAllId&&clearTimeout(e.timerOpenAllId),e.timerOpenAllId=null},incrementTimeGame:function(e){e.timeGame+=1},setTimerGameId:function(e,t){e.isStartGame=!0,e.timerGameId=t.payload},clearTimerGameId:function(e){clearInterval(e.timerGameId),e.timerGameId=null,e.isStartGame=!1},incrementFlipCount:function(e){e.flipCount+=1},setSelectedCardId:function(e,t){e.selectedCardId=t.payload},setTimerStartAutoId:function(e,t){e.timerStartAutoId=t.payload},setTimerAutoGameId:function(e,t){e.timerAutoGameId=t.payload},clearTimerStartAutoId:function(e){e.timerStartAutoId&&(clearTimeout(e.timerStartAutoId),e.timerStartAutoId=null)},clearTimerAutoGameId:function(e){e.timerAutoGameId&&(clearInterval(e.timerAutoGameId),e.timerAutoGameId=null)},setIsShowWin:function(e,t){e.isShowWin=t.payload,N(e)},saveState:function(e){N(e)}}}),M=W.actions,E=M.resetState,L=M.resetCards,z=M.openCard,J=M.closeCard,R=M.openAll,D=M.closeAll,V=M.setTimerOpenAllId,U=M.clearTimerIdAll,P=M.incrementTimeGame,Y=M.setTimerGameId,_=M.clearTimerGameId,q=M.incrementFlipCount,H=M.setSelectedCardId,K=M.setTimerStartAutoId,Q=M.setTimerAutoGameId,X=M.clearTimerStartAutoId,Z=M.clearTimerAutoGameId,$=M.setIsShowWin,ee=M.saveState,te=function(){return function(e,t){var n=t(),i=n.settings.widthBoard*n.settings.heightBoard;e(X()),e(Z()),e(U()),e(_()),e(E()),e(L(i)),e(ee())}},ne=function(e){return function(t){t(w(!0)),t(z({id:e})),t(q()),t(ae(e))}},ie=function(){return function(e){e(I(!0)),e(te());var t=setInterval((function(){return e(P())}),1e3);e(Y(t)),e(R());var n=setTimeout((function(){e(D()),e(V(null))}),3e3);e(V(n))}},ae=function(e){return function(t,n){var i=n().game;i.selectedCardId!==e&&(null!==i.selectedCardId?(i.cards[e].idImg===i.cards[i.selectedCardId].idImg?(t(C(!0)),i.cards.filter((function(e){return!e.isOpen})).length||t(ce())):setTimeout((function(){t(y(!0)),t(J(i.selectedCardId)),t(J(e)),t(ee())}),500),t(H(null))):t(H(e)),t(ee()))}},ce=function(){return function(e){e(_()),e(X()),e(Z()),e($(!0)),e(A(!0)),e(ee())}},re=function(){return function(e,t){e(ie());var n=setTimeout((function(){var n=setInterval((function(){for(var n=t().game.cards,i=null;null===i||(null===(a=n[i])||void 0===a?void 0:a.isOpen);){var a;i=Math.floor(Math.random()*n.length)}e(ne(i))}),2e3);e(Q(n))}),5e3);e(K(n))}},oe=function(e){return e.game.cards},se=function(e){return e.game.flipCount},le=function(e){return e.game.timeGame},de=function(e){return e.game.isShowWin},ue=W.reducer,je=Object(p.b)({name:"settings",initialState:function(){var e=window.localStorage.getItem(B);return JSON.parse(e)}()||{isShowSettings:!1,isShowTime:!0,isShowCount:!0,widthBoard:4,heightBoard:3,isSounds:!0,volumeSounds:1},reducers:{setIsShowSettings:function(e,t){e.isShowSettings=t.payload,t.payload||function(e){var t=JSON.stringify(e);window.localStorage.setItem(B,t)}(e)},toggleShowTime:function(e){e.isShowTime=!e.isShowTime},toggleShowCount:function(e){e.isShowCount=!e.isShowCount},setSize:function(e,t){e.widthBoard=t.payload.widthBoard,e.heightBoard=t.payload.heightBoard},setIsSounds:function(e,t){e.isSounds=t.payload},setVolumeSounds:function(e,t){e.volumeSounds=t.payload}}}),me=je.actions,be=me.setIsShowSettings,Oe=me.toggleShowTime,he=me.toggleShowCount,fe=me.setSize,pe=me.setIsSounds,ge=me.setVolumeSounds,xe=function(e){return function(t){t(fe(e)),t(te())}},Se=function(e){return e.settings.isShowSettings},ve=function(e){return{isShowTime:e.settings.isShowTime,isShowCount:e.settings.isShowCount}},Ie=function(e){return{widthBoard:e.settings.widthBoard,heightBoard:e.settings.heightBoard}},we=function(e){return{isSounds:e.settings.isSounds,volumeSounds:e.settings.volumeSounds}},ye=je.reducer,Ce=n(2),Ae=Object(r.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},icon:{marginRight:e.spacing(1),marginLeft:e.spacing(5)}}}));var Te=function(){var e=Object(o.b)(),t=Object(o.c)(ve),n=t.isShowTime,i=t.isShowCount,a=Object(o.c)(se),c=Object(o.c)(le),r=Ae();return Object(Ce.jsx)(s.a,{position:"static",children:Object(Ce.jsxs)(l.a,{children:[Object(Ce.jsx)(u.a,{edge:"start",className:r.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return e(be(!0))},children:Object(Ce.jsx)(m.a,{})}),Object(Ce.jsx)(d.a,{variant:"h6",className:r.title,children:"Flip and remember"}),i&&Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(f.a,{className:r.icon}),Object(Ce.jsx)(d.a,{variant:"h6",children:a})]}),n&&Object(Ce.jsxs)(Ce.Fragment,{children:[Object(Ce.jsx)(O.a,{className:r.icon}),Object(Ce.jsxs)(d.a,{variant:"h6",children:[c," sec"]})]})]})})},Ge=n(176),ke=n(31),Be=n(178),Fe=n(177),Ne=n(114),We=n(158),Me=n(159),Ee=n(174),Le=n(160),ze=n(175),Je=n(161),Re=n(179),De=n(79),Ve=n.n(De),Ue=n(80),Pe=n.n(Ue),Ye=Object(r.a)((function(e){return{group:{marginBottom:e.spacing(3)}}}));var _e=function(){var e=Object(o.b)(),t=Object(o.c)(ve),n=t.isShowTime,i=t.isShowCount,a=Object(o.c)(Ie),c=a.widthBoard,r=a.heightBoard,s=Object(o.c)(we),l=s.isSounds,u=s.volumeSounds,j=Ye();return Object(Ce.jsx)("div",{children:Object(Ce.jsxs)(Fe.a,{component:"fieldset",children:[Object(Ce.jsx)(Be.a,{component:"legend",children:"UI Settngs"}),Object(Ce.jsxs)(Ne.a,{className:j.group,children:[Object(Ce.jsx)(We.a,{control:Object(Ce.jsx)(Me.a,{checked:i,onChange:function(){return e(he())},name:"count"}),label:"Show flip count"}),Object(Ce.jsx)(We.a,{control:Object(Ce.jsx)(Me.a,{checked:n,onChange:function(){return e(Oe())},name:"time"}),label:"Show time game"})]}),Object(Ce.jsx)(Be.a,{component:"legend",children:"Size board"}),Object(Ce.jsx)(Ne.a,{className:j.group,children:Object(Ce.jsxs)(Le.a,{"aria-label":"size board",value:"".concat(c,"x").concat(r),onChange:function(t){var n=t.target.value.split("x"),i=Object(ke.a)(n,2),a=i[0],c=i[1];e(xe({widthBoard:+a,heightBoard:+c}))},children:[Object(Ce.jsx)(We.a,{value:"3x2",control:Object(Ce.jsx)(Ee.a,{}),label:"3x2 (easy)"}),Object(Ce.jsx)(We.a,{value:"4x3",control:Object(Ce.jsx)(Ee.a,{}),label:"4x3 (medium)"}),Object(Ce.jsx)(We.a,{value:"6x4",control:Object(Ce.jsx)(Ee.a,{}),label:"6x4 (hard)"})]})}),Object(Ce.jsx)(Be.a,{component:"legend",children:"Sounds"}),Object(Ce.jsxs)(Ne.a,{className:j.group,children:[Object(Ce.jsx)(We.a,{control:Object(Ce.jsx)(ze.a,{checked:l,onChange:function(t){return e(pe(t.target.checked))},name:"sounds"}),label:"Use sounds"}),Object(Ce.jsx)(d.a,{id:"continuous-slider",gutterBottom:!0,children:"Volume sounds"}),Object(Ce.jsxs)(Je.a,{container:!0,spacing:2,children:[Object(Ce.jsx)(Je.a,{item:!0,children:Object(Ce.jsx)(Ve.a,{})}),Object(Ce.jsx)(Je.a,{item:!0,xs:!0,children:Object(Ce.jsx)(Re.a,{value:u,onChange:function(t,n){return e(ge(n))},disabled:!l,min:0,max:1,step:.1,"aria-labelledby":"continuous-slider"})}),Object(Ce.jsx)(Je.a,{item:!0,children:Object(Ce.jsx)(Pe.a,{})})]})]})]})})},qe=Object(r.a)((function(e){return{root:{width:250,padding:e.spacing(2)}}}));var He=function(){var e=Object(o.b)(),t=Object(o.c)(Se),n=qe();return Object(Ce.jsx)(Ge.a,{anchor:"left",open:t,onClose:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(n){("keydown"!==n.type||"Tab"!==n.key&&"Shift"!==n.key)&&e(be(t))}}(!1),children:Object(Ce.jsx)("div",{className:n.root,role:"presentation",children:Object(Ce.jsx)(_e,{})})})},Ke=n(171),Qe=n(81),Xe=n.n(Qe),Ze=n(162),$e=n(163),et=n(164),tt=Object(r.a)((function(e){return{card:{},media:{aspectRatio:"1 / 1"}}}));var nt=function(e){var t=e.id,n=void 0===t?"":t,i=e.src,a=void 0===i?"":i,c=e.isOpen,r=void 0!==c&&c,o=e.onClick,s=e.className,l=void 0===s?"":s,d=tt(),u=function(){r||o(n)};return Object(Ce.jsx)("div",{className:l,children:Object(Ce.jsxs)(Xe.a,{isFlipped:r,flipDirection:"horizontal",children:[Object(Ce.jsx)(Ze.a,{className:d.card,children:Object(Ce.jsx)($e.a,{onClick:u,children:Object(Ce.jsx)(et.a,{className:d.media,image:"https://picsum.photos/id/10/300/300",title:"Flip Card"})})}),Object(Ce.jsx)(Ze.a,{className:d.card,children:Object(Ce.jsx)($e.a,{onClick:u,children:Object(Ce.jsx)(et.a,{className:d.media,image:a,title:"Flip Card"})})})]})})},it=Object(r.a)((function(e){return{root:{marginBottom:e.spacing(3)},card:{}}}));var at=function(){var e=Object(o.b)(),t=Object(o.c)(Ie).widthBoard,n=Object(o.c)(oe),a=it();Object(i.useEffect)((function(){n.length||e(te())}),[]);var c=function(t){e(ne(t))};return Object(Ce.jsx)("div",{className:a.root,children:Object(Ce.jsx)(Je.a,{container:!0,spacing:12/t-1,children:n.map((function(e,n){return Object(Ce.jsx)(Je.a,{item:!0,xs:12/t,children:Object(Ce.jsx)(nt,{className:a.card,id:n,src:e.src,isOpen:e.isOpen,onClick:c})},e.id)}))})})},ct=n(165),rt=n(82),ot=n.n(rt),st=n(83),lt=n.n(st),dt=n(84),ut=n.n(dt),jt=Object(r.a)((function(e){return{root:{display:"flex",justifyContent:"space-evenly"}}}));var mt=function(){var e=Object(o.b)(),t=jt();return Object(Ce.jsxs)("div",{className:t.root,children:[Object(Ce.jsx)(ct.a,{variant:"contained",color:"default",startIcon:Object(Ce.jsx)(ot.a,{}),onClick:function(){return e(te())},children:"Reset"}),Object(Ce.jsx)(ct.a,{variant:"contained",color:"primary",size:"large",startIcon:Object(Ce.jsx)(lt.a,{}),onClick:function(){return e(ie())},children:"Play"}),Object(Ce.jsx)(ct.a,{variant:"contained",color:"default",startIcon:Object(Ce.jsx)(ut.a,{}),onClick:function(){return e(re())},children:"Auto"})]})},bt=n(166),Ot=n(170),ht=n(168),ft=n(169),pt=n(167);var gt=function(){var e=Object(o.b)(),t=Object(o.c)(de),n=Object(o.c)(le),i=Object(o.c)(se),a=function(){e($(!1))};return Object(Ce.jsxs)(bt.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Ce.jsx)(pt.a,{id:"alert-dialog-title",children:"You win!"}),Object(Ce.jsx)(ht.a,{children:Object(Ce.jsxs)(ft.a,{id:"alert-dialog-description",children:[Object(Ce.jsxs)("div",{children:["Time Game: ",n," sec"]}),Object(Ce.jsxs)("div",{children:["Flip Count: ",i]})]})}),Object(Ce.jsx)(Ot.a,{children:Object(Ce.jsx)(ct.a,{onClick:a,color:"primary",autoFocus:!0,children:"Ok"})})]})},xt=Object(r.a)((function(e){return{root:{flexGrow:1,display:"flex",flexDirection:"column",padding:e.spacing(3)}}}));var St=function(){var e=xt();return Object(Ce.jsxs)(Ke.a,{className:e.root,maxWidth:"sm",children:[Object(Ce.jsx)(at,{}),Object(Ce.jsx)(mt,{}),Object(Ce.jsx)(gt,{})]})},vt=n(85),It=n.n(vt),wt=n(40),yt=n.p+"static/media/start.fdf26345.mp3",Ct=n.p+"static/media/flipOpen.4f64a62d.mp3",At=n.p+"static/media/flipClose.8892fcc9.mp3",Tt=n.p+"static/media/like.db26c168.mp3",Gt=n.p+"static/media/win.80e8724b.mp3";var kt=function(){var e=Object(o.b)(),t=Object(o.c)(T),n=(Object(o.c)(G),Object(o.c)(we)),a=n.isSounds,c=n.volumeSounds,r=Object(wt.a)(yt,{volume:c,soundEnabled:a}),s=Object(ke.a)(r,1)[0],l=Object(wt.a)(Ct,{volume:c,soundEnabled:a}),d=Object(ke.a)(l,1)[0],u=Object(wt.a)(At,{volume:c,soundEnabled:a}),j=Object(ke.a)(u,1)[0],m=Object(wt.a)(Tt,{volume:c,soundEnabled:a}),b=Object(ke.a)(m,1)[0],O=Object(wt.a)(Gt,{volume:c,soundEnabled:a}),h=Object(ke.a)(O,1)[0];return Object(i.useEffect)((function(){t.isStart&&(s(),e(I(!1))),t.isFlipOpen&&(d(),e(w(!1))),t.isFlipClose&&(j(),e(y(!1))),t.isLike&&(b(),e(C(!1))),t.isWin&&(h(),e(A(!1)))}),[t]),Object(Ce.jsx)(It.a,{src:"http://nashe1.hostingradio.ru/rock-128.mp3",playing:!1,html5:!0})},Bt=n(32);var Ft=function(){var e=Object(o.b)();return Object(Bt.a)("r",(function(){return e(te())})),Object(Bt.a)("p",(function(){return e(ie())})),Object(Bt.a)("a",(function(){return e(re())})),Object(Bt.a)("m",(function(){return e(be(!0))})),Object(Bt.a)("1",(function(){return e(xe({widthBoard:3,heightBoard:2}))})),Object(Bt.a)("2",(function(){return e(xe({widthBoard:4,heightBoard:3}))})),Object(Bt.a)("3",(function(){return e(xe({widthBoard:6,heightBoard:4}))})),null},Nt=Object(r.a)((function(e){return{root:{display:"flex",flexDirection:"column",height:"100vh"}}}));var Wt=function(){var e=Nt();return Object(Ce.jsxs)("div",{className:e.root,children:[Object(Ce.jsx)(Te,{}),Object(Ce.jsx)(He,{}),Object(Ce.jsx)(St,{}),Object(Ce.jsx)(kt,{}),Object(Ce.jsx)(Ft,{})]})},Mt=Object(p.a)({reducer:{settings:ye,game:ue,sound:k}}),Et=n(172),Lt=n(86),zt=Object(Lt.a)(),Jt=n(173);n(110);c.a.render(Object(Ce.jsx)(o.a,{store:Mt,children:Object(Ce.jsxs)(Et.a,{theme:zt,children:[Object(Ce.jsx)(Jt.a,{}),Object(Ce.jsx)(Wt,{})]})}),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.66ef439f.chunk.js.map